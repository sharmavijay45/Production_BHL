# BHIV Core Production Environment Configuration
# =============================================
# Copy this file to .env.production and update with actual values

# =============================================================================
# Security Configuration
# =============================================================================

# JWT Configuration
JWT_SECRET_KEY=your-super-secure-jwt-secret-key-change-in-production-256-bits
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Service Configuration
SECURE_SERVICE_HOST=0.0.0.0
SECURE_SERVICE_PORT=8080

# =============================================================================
# Database Configuration (PostgreSQL with SSL)
# =============================================================================

# Primary Database URL with SSL
DATABASE_URL=postgresql://bhiv_user:secure_password@localhost:5432/bhiv_core_prod?sslmode=require

# SSL Configuration
DB_SSL_MODE=require
DB_SSL_CERT=/path/to/client-cert.pem
DB_SSL_KEY=/path/to/client-key.pem
DB_SSL_ROOT_CERT=/path/to/ca-cert.pem

# Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO=false
DB_LOG_QUERIES=true

# =============================================================================
# Existing AI Service Configuration
# =============================================================================

# Groq API
GROQ_API_KEY=gsk_your_actual_groq_key_here
GROQ_MODEL=llama-3.1-70b-versatile

# Gemini API
GEMINI_API_KEY=AIzaSy_your_actual_gemini_key_here
GEMINI_API_KEY_BACKUP=your_backup_gemini_key_here

# Ollama Configuration
OLLAMA_URL=http://localhost:11434/api/generate
OLLAMA_MODEL=llama3.1

# Vaani Sentinel X Configuration
VAANI_USERNAME=admin
VAANI_PASSWORD=secure_vaani_password
VAANI_ENDPOINT=https://vaani-sentinel-gs6x.onrender.com
MOCK_VAANI_TTS=false

# RAG API Configuration
RAG_API_URL=https://your-rag-api-endpoint.com/rag
RAG_DEFAULT_TOP_K=5
RAG_TIMEOUT=30

# =============================================================================
# MongoDB (Legacy Support)
# =============================================================================

# MongoDB for existing services
MONGO_URI=mongodb://localhost:27017/bhiv_core_prod
MONGO_DB=bhiv_core_prod

# =============================================================================
# Security & Threat Detection
# =============================================================================

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=300
RATE_LIMIT_BURST=20

# Threat Detection
MAX_FAILED_ATTEMPTS=5
LOCKOUT_DURATION=1800
ENABLE_SQL_INJECTION_DETECTION=true
ENABLE_XSS_DETECTION=true

# IP Blocking
BLOCKED_IPS=192.168.1.100,10.0.0.50
TRUSTED_IPS=127.0.0.1,::1

# =============================================================================
# SSL/TLS Configuration
# =============================================================================

# SSL Certificates for HTTPS
SSL_KEYFILE=/path/to/private-key.pem
SSL_CERTFILE=/path/to/certificate.pem
SSL_CA_CERTS=/path/to/ca-bundle.pem

# =============================================================================
# Logging Configuration
# =============================================================================

# Log Levels
LOG_LEVEL=INFO
AUDIT_LOG_LEVEL=INFO
SECURITY_LOG_LEVEL=WARNING

# Log Files
LOG_FILE=/var/log/bhiv/application.log
AUDIT_LOG_FILE=/var/log/bhiv/audit.log
SECURITY_LOG_FILE=/var/log/bhiv/security.log

# =============================================================================
# Monitoring & Observability (Day 7-8)
# =============================================================================

# Prometheus Metrics
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# OpenTelemetry Tracing
ENABLE_TRACING=true
JAEGER_ENDPOINT=http://localhost:14268/api/traces
TRACE_SAMPLE_RATE=0.1

# =============================================================================
# Alerting Configuration
# =============================================================================

# Slack Notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#bhiv-alerts
ENABLE_SLACK_ALERTS=true

# Email Notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=alerts@bhivcore.com
SMTP_PASSWORD=your_email_password
SMTP_FROM=BHIV Core Alerts <alerts@bhivcore.com>
ENABLE_EMAIL_ALERTS=true

# Admin Email List
ADMIN_EMAILS=admin@bhivcore.com,security@bhivcore.com

# =============================================================================
# Feature Flags
# =============================================================================

# Core Features
USE_UNIGURU_JUGAAD=true
ENABLE_RL=true
CANARY_TRAFFIC_PERCENT=10

# Security Features
ENABLE_AUDIT_LOGGING=true
ENABLE_THREAT_DETECTION=true
ENABLE_RATE_LIMITING=true
ENABLE_IP_BLOCKING=true

# =============================================================================
# External Integrations (Day 4-5 Modularity)
# =============================================================================

# Office 365 Integration
OFFICE365_CLIENT_ID=your_office365_client_id
OFFICE365_CLIENT_SECRET=your_office365_client_secret
OFFICE365_TENANT_ID=your_tenant_id

# Google Maps API
GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# BOS Integration
BOS_API_URL=https://api.bos-system.com
BOS_API_KEY=your_bos_api_key

# =============================================================================
# Deployment Configuration (Day 6)
# =============================================================================

# Environment
ENVIRONMENT=production
DEBUG=false

# Docker Configuration
DOCKER_REGISTRY=your-registry.com
IMAGE_TAG=latest

# Kubernetes Configuration
NAMESPACE=bhiv-core
REPLICA_COUNT=3
MAX_REPLICAS=10
MIN_REPLICAS=2

# =============================================================================
# Backup & Recovery
# =============================================================================

# Database Backup
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/backups/bhiv-core

# Redis Cache (if used)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=your_redis_password

# =============================================================================
# Performance Tuning
# =============================================================================

# Worker Configuration
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
WORKER_TIMEOUT=30

# Cache Configuration
ENABLE_CACHING=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# =============================================================================
# Development vs Production Flags
# =============================================================================

# Set to false in production
DEVELOPMENT_MODE=false
ENABLE_DEBUG_ENDPOINTS=false
ALLOW_CORS_ALL_ORIGINS=false

# Production optimizations
ENABLE_GZIP=true
ENABLE_STATIC_FILE_CACHING=true
STATIC_FILE_MAX_AGE=31536000
